<template>
  <div class="result filler d-flex flex-column justify-content-center">
    <template v-if="$subReady.result && $meteor.result">
      <div class="winner-section flexible d-flex flex-column" v-if="$meteor.winner">
        <!--
        <img src="/images/beam.svg" class="beam beam-left">
        <img src="/images/beam.svg" class="beam beam-center">
        <img src="/images/beam.svg" class="beam beam-right">
        -->
        <svg class="beam beam-left" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>
        <svg class="beam beam-center" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>
        <svg class="beam beam-right" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>

        <!--
        <svg class="beam beam-left" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>
        <svg class="beam beam-center" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>
        <svg class="beam beam-right" width="539" height="704" viewBox="0 0 539 704" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="56.086%" y1="95.93%" x2="56.086%" y2="-3.835%" id="a"><stop stop-color="#FFF" stop-opacity="0" offset="0%"/><stop stop-color="#FDDAE0" offset="100%"/></linearGradient></defs><path transform="matrix(1 0 0 -1 -2314 2359)" d="M2517.043 1656L2305 2389h557l-219.485-733z" fill="url(#a)" fill-rule="evenodd" opacity=".127"/></svg>
        -->
        <!--
        <div class="filler d-flex flex-column">
          <div class="winner-title">
            <img src="/images/winner.svg" class="d-block mx-auto">
          </div>
          <div class="winner d-flex flex-column justify-content-center align-items-center">
            <img src="/images/medal.png" class="medal">
            <img src="/images/avatar-full.svg" class="winner-avatar">
            &lt;!&ndash;<div class="winner-avatar" style="background: url(/images/avatar-full.svg) no-repeat center; background-size: contain"></div>&ndash;&gt;
            <div class="winner-name d-flex align-items-center">
              <img src="/images/crown.svg" class="rotated-crown">
              <span>渣渣辉</span>
            </div>
          </div>
        </div>
        -->
        <div class="winner-title inflexible">
          <!--<img src="/images/winner.svg" class="d-block mx-auto">-->
          <img src="/images/winner.png" class="d-block mx-auto">
          <!--
          <svg class="mx-auto" width="398" height="91" viewBox="0 0 398 91" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M8.99 27.028a7.2 7.2 0 0 0-6.055 11.094l11.603 18.045a3.6 3.6 0 0 1 0 3.894L2.935 78.106A7.2 7.2 0 0 0 8.99 89.2h66.446a7.2 7.2 0 0 0 7.2-7.2V34.228a7.2 7.2 0 0 0-7.2-7.2H8.99z" stroke="#333" stroke-width="3.6" fill="#FFC700"/><path d="M30 78h40M30 38h40" stroke="#E19000" stroke-width="3" stroke-linecap="square"/><path d="M52 53h30v29.355a4 4 0 0 1-6.59 3.049L56.487 69.332 52 53z" fill="#E19000"/><path d="M388.893 27.028a7.2 7.2 0 0 1 6.055 11.094l-11.603 18.045a3.6 3.6 0 0 0 0 3.894l11.603 18.045a7.2 7.2 0 0 1-6.055 11.094h-66.446a7.2 7.2 0 0 1-7.2-7.2V34.228a7.2 7.2 0 0 1 7.2-7.2h66.446z" stroke="#333" stroke-width="3.6" fill="#FFC700"/><path d="M327 78h40M327 38h40" stroke="#E19000" stroke-width="3" stroke-linecap="square"/><path d="M347 53h-30v29.355a4 4 0 0 0 6.59 3.049l18.924-16.072L347 53z" fill="#E19000"/><path d="M47.562 18.919a7.2 7.2 0 0 0-6.752 9.7L54.5 65.58a7.2 7.2 0 0 0 6.751 4.7h274.497a7.2 7.2 0 0 0 6.752-4.7l13.69-36.96a7.2 7.2 0 0 0-6.752-9.7H47.562z" stroke="#333" stroke-width="3.6" fill="#FFDC25"/><path d="M80.5 60.5h250" stroke="#E19000" stroke-width="3" stroke-linecap="square"/><g fill="#FF576B"><path d="M89.99 34.547l2.443-3.551-.076 3.1-2.367.451zm7.806-30.943c-2.616 0-4.722 2.03-4.795 4.62l-.093 3.317-16.293 1.548c-2.632.249-4.569 2.575-4.317 5.183l.248 2.56c.237 2.453 2.289 4.301 4.773 4.301.15 0 .301-.007.454-.022l4.24-.398-7.467 10.908a4.688 4.688 0 0 0-.739 3.581 4.723 4.723 0 0 0 2.048 3.042l2.13 1.407a4.843 4.843 0 0 0 4.12.572 4.793 4.793 0 0 0 4.51 3.131c.3 0 .605-.028.902-.084l4.513-.856-.04 1.836a4.697 4.697 0 0 0 1.332 3.39 4.784 4.784 0 0 0 3.362 1.463l2.576.055H99.363c2.623 0 4.729-2.035 4.794-4.634l.112-4.424 2.925-.557a4.766 4.766 0 0 0 3.069-2.009 4.683 4.683 0 0 0 .732-3.571l-.162-.82 4.426 2.082a4.826 4.826 0 0 0 6.386-2.249l1.134-2.356a4.68 4.68 0 0 0 .188-3.644 4.737 4.737 0 0 0-2.476-2.702l-12.887-6.007 11.609-1.113c2.63-.253 4.564-2.578 4.313-5.184l-.248-2.558c-.237-2.451-2.289-4.3-4.773-4.3-.155 0-.31.008-.466.022l-12.912 1.246.042-1.89a4.693 4.693 0 0 0-1.348-3.41 4.78 4.78 0 0 0-3.395-1.448l-2.579-.028H97.796zm0 3.535h.013l2.578.028c.684.006 1.231.566 1.216 1.245l-.102 4.5a1.224 1.224 0 0 0 1.348 1.24l15.535-1.5a1.225 1.225 0 0 1 1.342 1.096l.249 2.559a1.221 1.221 0 0 1-1.106 1.328l-16.479 1.582a1.222 1.222 0 0 0-1.11 1.179l-.055 1.999c-.014.484.264.93.705 1.135l17.043 7.943c.616.287.88 1.017.587 1.626l-1.135 2.356a1.23 1.23 0 0 1-1.636.577l-13.992-6.58a1.225 1.225 0 0 0-1.755 1.066l-.117 4.042a1.223 1.223 0 0 0 1.46 1.231l3.18-.601a1.233 1.233 0 0 1 1.438.962l.49 2.49a1.218 1.218 0 0 1-.973 1.429l-4.773.91a1.224 1.224 0 0 0-.998 1.166l-.158 6.289a1.223 1.223 0 0 1-1.228 1.188h-.027l-2.577-.055a1.222 1.222 0 0 1-1.202-1.243l.101-4.7a1.224 1.224 0 0 0-1.46-1.222l-7.352 1.394a1.227 1.227 0 0 1-1.44-.976l-.462-2.481a1.22 1.22 0 0 1 .976-1.419l8.96-1.706c.568-.11.981-.594.997-1.168l.403-16.25-.642.053.107.053L81.66 40.382a1.232 1.232 0 0 1-1.017.531c-.234 0-.47-.065-.68-.204l-2.13-1.407a1.211 1.211 0 0 1-.336-1.697L87.75 22.628c.56-.818-.045-1.903-1.01-1.903-.04 0-.081.002-.122.006l-9.183.861a1.226 1.226 0 0 1-1.34-1.096l-.246-2.56a1.22 1.22 0 0 1 1.106-1.33l18.349-1.741a1.224 1.224 0 0 0 1.112-1.18l.15-5.362a1.223 1.223 0 0 1 1.229-1.184zM143.904 28.811l1.003-.104a4.754 4.754 0 0 0 1.445-.384l-1.528 1.78c-.309.359-.559.755-.745 1.178l-.175-2.47zm6.059-25.207a4.735 4.735 0 0 0-4.722 4.236l-.273 2.558c-.275 2.587 1.61 4.924 4.203 5.209l.693.076-2.296 1.526c-.201.134-.39.281-.565.44a4.749 4.749 0 0 0-3.32-.928l-.634.061-.469-6.943c-.166-2.479-2.248-4.42-4.737-4.42-.118 0-.236.005-.355.013l-2.554.19c-2.591.193-4.559 2.452-4.387 5.038l.488 7.332-.837.08c-2.603.253-4.519 2.57-4.27 5.167l.245 2.548a4.726 4.726 0 0 0 5.198 4.262l.504-.05.708 10.624-4.429 1.983a4.709 4.709 0 0 0-2.501 2.656 4.694 4.694 0 0 0 .129 3.64l1.05 2.284a4.763 4.763 0 0 0 6.269 2.344l12.17-5.465c.26.85.755 1.61 1.448 2.204l1.92 1.643a4.758 4.758 0 0 0 6.652-.453l2.946-3.319c.04.16.09.319.148.476l.863 2.341a4.766 4.766 0 0 0 4.458 3.102c.54 0 1.072-.091 1.582-.27l5.539-1.952a4.725 4.725 0 0 0 2.343-1.798l1.163-1.702c.516-.755.8-1.636.823-2.551l.561-22.583a4.749 4.749 0 0 0-1.39-3.468l-1.762-1.757a4.715 4.715 0 0 0-2.536-1.317 4.749 4.749 0 0 0 1.638-4.815l-.709-2.892a4.757 4.757 0 0 0-4.112-3.587l-16.38-1.737a4.874 4.874 0 0 0-.503-.026zm-12.12 5.338c.634 0 1.169.49 1.213 1.133l.628 9.317a1.216 1.216 0 0 0 1.332 1.126l3.01-.291a1.215 1.215 0 0 1 1.328 1.08l.273 2.56a1.214 1.214 0 0 1-1.085 1.336l-3.231.335a1.214 1.214 0 0 0-1.088 1.293l.852 12.038a1.218 1.218 0 0 0 1.72 1.019l2.741-1.248a1.22 1.22 0 0 1 1.619.614l1.027 2.318a1.214 1.214 0 0 1-.614 1.599l-15.918 7.147a1.217 1.217 0 0 1-1.606-.6l-1.051-2.284a1.213 1.213 0 0 1 .608-1.614l5.898-2.641c.464-.208.75-.682.716-1.187l-.974-14.606a1.215 1.215 0 0 0-1.335-1.127l-2.884.285a1.216 1.216 0 0 1-1.332-1.092l-.245-2.55a1.214 1.214 0 0 1 1.094-1.323l3.073-.298a1.215 1.215 0 0 0 1.097-1.288l-.637-9.567a1.216 1.216 0 0 1 1.125-1.291l2.554-.19c.03-.002.062-.003.092-.003zm12.12-1.815c.043 0 .086.003.13.007l16.38 1.736c.51.054.932.423 1.054.92l.708 2.892a1.212 1.212 0 0 1-.505 1.295l-5.903 3.946c-.999.668-.523 2.222.678 2.222h.006l6.69-.032h.005c.324 0 .633.128.861.355l1.763 1.758c.236.235.364.557.356.889l-.56 22.584c-.007.234-.08.46-.213.654l-1.162 1.702a1.225 1.225 0 0 1-.6.46l-5.54 1.952a1.218 1.218 0 0 1-1.548-.726l-.864-2.342c-.23-.625.088-1.32.715-1.554l3.456-1.298c.462-.173.774-.608.787-1.101l.2-7.098c.022-.754-.592-1.25-1.227-1.25-.32 0-.647.125-.9.41l-12.084 13.617a1.22 1.22 0 0 1-1.706.116l-1.919-1.644a1.21 1.21 0 0 1-.121-1.722l18.264-20.744v-.053l-6.28.048a1.217 1.217 0 0 0-.916.425l-8.655 10.077a1.218 1.218 0 0 1-1.71.137l-1.959-1.653a1.213 1.213 0 0 1-.137-1.718l4.475-5.207c.677-.787.116-2.003-.923-2.003-.537 0-1.01-.35-1.166-.863l-.855-2.82a1.214 1.214 0 0 1 .49-1.361l7.592-5.048c.946-.629.588-2.091-.542-2.217l-7.02-.77a1.214 1.214 0 0 1-1.077-1.335l.273-2.557a1.216 1.216 0 0 1 1.209-1.086zM194.975 27.238c.092 0 .186-.003.279-.01l2.03-.117-3.489 12.623.625-12.528c.182.02.367.032.555.032m22.98-24.535c-.79 0-1.575.197-2.271.572l-2.261 1.22a4.797 4.797 0 0 0-.471.289 4.73 4.73 0 0 0-1.695-.86l-2.43-.673a4.775 4.775 0 0 0-5.875 3.315l-2.299 8.328-3.835.206 2.221-1.85a4.701 4.701 0 0 0 1.69-3.23 4.692 4.692 0 0 0-1.112-3.47l-1.666-1.954a4.787 4.787 0 0 0-6.702-.569l-12.93 10.776a4.737 4.737 0 0 0-.622 6.644l1.645 1.99a4.758 4.758 0 0 0 3.08 1.694l-1.181 23.395c-.131 2.604 1.892 4.834 4.51 4.973l2.56.135a4.767 4.767 0 0 0 4.208-2.082 4.742 4.742 0 0 0 2.498 1.66l2.482.677a4.775 4.775 0 0 0 5.865-3.326l4.112-15.007 1.53 12.636a4.761 4.761 0 0 0 2.383 3.557l2.476 1.397a4.798 4.798 0 0 0 4.388.163l9.601-4.502c2.376-1.115 3.399-3.944 2.28-6.308l-1.09-2.305a4.792 4.792 0 0 0-4.315-2.724c-.698.001-1.374.15-2.007.441l-2.632 1.214-1.583-12.524a4.923 4.923 0 0 0-.142-.698l5.463-.328a4.747 4.747 0 0 0 3.288-1.595 4.699 4.699 0 0 0 1.183-3.444l-.163-2.498a4.743 4.743 0 0 0-2.29-3.75c.2-1.03.06-2.134-.475-3.126l-3.211-5.957a4.765 4.765 0 0 0-4.204-2.502m-4.18 23.275c.608 0 1.134.45 1.212 1.063l1.98 15.665a1.222 1.222 0 0 0 1.727.95l5.52-2.545a1.226 1.226 0 0 1 1.62.584l1.09 2.306c.287.606.027 1.33-.584 1.617l-9.602 4.502a1.224 1.224 0 0 1-1.124-.042l-2.477-1.398a1.214 1.214 0 0 1-.61-.91l-2.44-20.137a1.217 1.217 0 0 1 1.068-1.353l2.474-.293c.05-.007.098-.01.147-.01M207.55 6.606c.108 0 .218.014.327.044l2.43.672c.65.18 1.031.848.851 1.494l-2.092 7.512a1.217 1.217 0 0 0 1.248 1.538l12.994-.735a1.22 1.22 0 0 1 1.29 1.135l.162 2.499c.043.672-.47 1.25-1.147 1.291l-15.51.932a1.22 1.22 0 0 0-1.105.893l-7.056 25.756a1.221 1.221 0 0 1-1.503.853l-2.482-.677a1.215 1.215 0 0 1-.855-1.495l6.46-23.379a1.218 1.218 0 0 0-1.25-1.536l-5.265.306a1.22 1.22 0 0 1-1.292-1.149l-.135-2.54a1.218 1.218 0 0 1 1.154-1.277l7.744-.416c.525-.03.973-.388 1.112-.892l2.742-9.936a1.222 1.222 0 0 1 1.178-.893m-13.238-.16c.347 0 .692.147.933.43l1.665 1.955a1.21 1.21 0 0 1-.148 1.716l-4.872 4.06c-.262.216-.42.532-.437.87l-1.668 33.483a1.22 1.22 0 0 1-1.22 1.155c-.022 0-.044 0-.066-.002l-2.56-.135a1.219 1.219 0 0 1-1.156-1.274l1.343-26.608c.038-.751-.575-1.278-1.226-1.278-.266 0-.537.086-.774.282l-.32.263a1.224 1.224 0 0 1-1.724-.165l-1.645-1.989a1.211 1.211 0 0 1 .16-1.703l12.93-10.776c.23-.19.508-.283.785-.283m23.644-.216c.435 0 .857.232 1.078.64l3.21 5.957a1.213 1.213 0 0 1-.488 1.64l-2.225 1.215a1.228 1.228 0 0 1-1.663-.487l-3.247-5.952a1.212 1.212 0 0 1 .492-1.648l2.261-1.218c.185-.1.385-.147.582-.147"/><path d="M245.434 42.568l.062-.314.028-.156.017.4-.107.07zm12.18-7.444c.113 0 .226-.004.34-.012l3.764-.276-.09 5.62-4.207-.228-.211-5.122c.133.012.268.018.405.018zm-8.063-32.421c-.122 0-.243.004-.366.014l-9.855.779a4.68 4.68 0 0 0-3.08 1.502l-1.665 1.81a4.819 4.819 0 0 0-1.273 3.308l.032 5.044a4.388 4.388 0 0 0-1.812 3.877l.256 3.532a4.374 4.374 0 0 0 1.65 3.114l.128 14.589-2.579 5.977a4.836 4.836 0 0 0-.067 3.685 4.726 4.726 0 0 0 2.523 2.645l2.311 1.01c.592.26 1.22.392 1.864.392 1.862 0 3.553-1.117 4.31-2.846l.093-.21 1.2 1.864a4.686 4.686 0 0 0 3.95 2.171c.912 0 1.8-.267 2.567-.773l3.89-2.568a4.629 4.629 0 0 0 2.339.763l21.768 1.058c.076.004.152.006.226.006 2.561 0 4.632-2.04 4.714-4.642l.081-2.577c.082-2.592-1.925-4.809-4.474-4.94l-4.684-.245.136-7.111 2.426-.191c2.557-.202 4.505-2.484 4.342-5.087l-.162-2.58c-.158-2.517-2.225-4.489-4.707-4.489-.115 0-.231.004-.349.013l-1.353.102.014-.673 4.425-.844a4.681 4.681 0 0 0 3.031-2.016 4.824 4.824 0 0 0 .73-3.607l-.485-2.556c-.428-2.251-2.375-3.885-4.63-3.885-.3 0-.6.03-.895.087l-1.932.379.007-.355a4.807 4.807 0 0 0-1.334-3.427 4.64 4.64 0 0 0-3.333-1.454l-2.535-.028H266.943c-1.967 0-3.678 1.259-4.38 3.023a4.642 4.642 0 0 0-2.298-.972l-2.491-.327a4.636 4.636 0 0 0-3.1.692 4.912 4.912 0 0 0-.1-.093l-1.868-1.709a4.664 4.664 0 0 0-3.155-1.231zm17.392 4.183h.013l2.536.029a1.219 1.219 0 0 1 1.195 1.25l-.057 3.238a1.22 1.22 0 0 0 1.206 1.25c.077 0 .154-.006.232-.021l4.718-.925c.077-.015.153-.023.23-.023.567 0 1.073.408 1.186.997l.485 2.555a1.229 1.229 0 0 1-.963 1.442l-6.26 1.193c-.563.107-.974.6-.986 1.18l-.11 5.142a1.22 1.22 0 0 0 1.209 1.255l.09-.003 3.876-.291a1.217 1.217 0 0 1 1.295 1.147l.163 2.579a1.223 1.223 0 0 1-1.113 1.304l-4.506.356a1.22 1.22 0 0 0-1.116 1.2l-.218 11.497a1.22 1.22 0 0 0 1.146 1.25l6.91.36a1.221 1.221 0 0 1 1.146 1.267l-.082 2.576a1.217 1.217 0 0 1-1.207 1.19c-.02 0-.038 0-.059-.003l-21.768-1.057a1.222 1.222 0 0 1-1.149-1.293l.135-2.621a1.218 1.218 0 0 1 1.206-1.164l.066.001 7.434.403.065.001c.656 0 1.197-.534 1.207-1.209l.169-10.596a1.219 1.219 0 0 0-1.296-1.246l-6.269.458a1.216 1.216 0 0 1-1.292-1.134l-.189-2.58a1.223 1.223 0 0 1 1.117-1.317l6.961-.523a1.22 1.22 0 0 0 1.12-1.196l.098-4.267a1.22 1.22 0 0 0-1.435-1.235l-5.645 1.094a1.195 1.195 0 0 1-1.074-.33l-2.01-2.008a1.244 1.244 0 0 1-.352-1.04l.97-7.38a1.216 1.216 0 0 1 1.354-1.056l2.491.326c.667.088 1.135.71 1.043 1.387l-.394 2.915c-.102.753.48 1.397 1.193 1.397.075 0 .15-.007.226-.021l2.756-.522c.562-.106.973-.599.986-1.18l.108-4.797a1.219 1.219 0 0 1 1.209-1.2zm-23.879 10.412c.036 0 .073-.002.11-.005l2.182-.198a1.217 1.217 0 0 1 1.312 1.106l.243 2.585a1.223 1.223 0 0 1-1.092 1.341l-2.792.263a1.222 1.222 0 0 0-1.097 1.233l.033 4.614a1.22 1.22 0 0 0 1.207 1.22c.115 0 .233-.017.35-.053l4.032-1.232a1.23 1.23 0 0 0 .86-1.225l-.547-14.195a1.218 1.218 0 0 0-1.303-1.177l-3.62.29a1.223 1.223 0 0 0-1.114 1.237l.029 2.98a1.22 1.22 0 0 0 1.207 1.216zm6.487-11.029c.297 0 .585.112.808.316l1.869 1.71c.24.22.385.53.399.86l1.49 36.113c.01.22-.04.44-.142.632l-.855 1.62a1.213 1.213 0 0 1-.407.45l-4.886 3.226a1.193 1.193 0 0 1-1.67-.36l-1.362-2.117a1.241 1.241 0 0 1 .35-1.7l3.41-2.263c.357-.237.566-.647.547-1.081l-.379-8.966a1.219 1.219 0 0 0-1.205-1.178c-.112 0-.228.017-.343.051l-4.272 1.277c-.518.153-.873.639-.868 1.19l.043 5.257c.001.084-.007.167-.023.25l-.159.81a1.27 1.27 0 0 1-.08.26l-3.093 7.058c-.2.458-.642.73-1.105.73-.16 0-.32-.032-.477-.1l-2.311-1.01a1.238 1.238 0 0 1-.629-1.623l2.775-6.436c.07-.16.104-.33.103-.504l-.15-16.935a.778.778 0 0 0-.874-.772.776.776 0 0 1-.767-.727l-.256-3.532a.78.78 0 0 1 .704-.838l.422-.036a.778.778 0 0 0 .707-.786l-.045-7.023a1.243 1.243 0 0 1 .326-.847l1.666-1.809a1.2 1.2 0 0 1 .79-.385l9.855-.778a1.1 1.1 0 0 1 .094-.004zM310.816 3.604a4.798 4.798 0 0 0-4.774 4.23l-.027.223h-9.26c-2.652 0-4.809 2.146-4.809 4.782v2.564c0 .97.292 1.873.792 2.627l-1.61-.028-.033-.001h-.054c-2.595 0-4.752 2.1-4.807 4.681l-.055 2.618a4.738 4.738 0 0 0 1.342 3.415 4.792 4.792 0 0 0 3.249 1.463l-2.714 1.398a4.756 4.756 0 0 0-2.374 2.808 4.727 4.727 0 0 0 .326 3.655l1.218 2.312a4.798 4.798 0 0 0 4.26 2.563c.763 0 1.527-.184 2.206-.533l.696-.358.745 7.09a4.764 4.764 0 0 0 1.621 3.107l1.803 1.562a4.82 4.82 0 0 0 3.16 1.178H301.774l20.923-.255a4.802 4.802 0 0 0 3.302-1.364l1.766-1.715a4.751 4.751 0 0 0 1.442-3.226l.119-2.916c2.419-.36 4.218-2.505 4.085-4.983l-.136-2.557a4.79 4.79 0 0 0-3.42-4.328l.054-1.054c.03-.599-.053-1.19-.24-1.748l1.246.02h.078c2.623 0 4.78-2.122 4.808-4.73l.028-2.563a4.771 4.771 0 0 0-1.809-3.784 4.737 4.737 0 0 0-.33-3.391l-1.154-2.297a4.787 4.787 0 0 0-4.302-2.642c-.282 0-.566.025-.845.075a4.813 4.813 0 0 0-4.616-3.445h-4.596a4.734 4.734 0 0 0-.993-2.33 4.78 4.78 0 0 0-3.218-1.79l-2.59-.3a4.91 4.91 0 0 0-.56-.033"/></g><path d="M86.09 34.997l8.017-1.555.261-10.706-8.278 12.261zM96.723 49.5a2.982 2.982 0 0 1-2.11-.937 3.03 3.03 0 0 1-.836-2.168l.087-4.093-6.676 1.29a3.018 3.018 0 0 1-3.527-2.434l-.369-2.017-.148.22a3.004 3.004 0 0 1-2.488 1.327 2.983 2.983 0 0 1-1.67-.51l-2.128-1.433a3.022 3.022 0 0 1-1.286-1.945 3.042 3.042 0 0 1 .465-2.29l9.588-14.267-8.007.766a3.059 3.059 0 0 1-.286.014c-1.558 0-2.846-1.181-2.996-2.749l-.247-2.607c-.158-1.667 1.057-3.154 2.709-3.315l17.852-1.727.137-4.966c.045-1.657 1.367-2.955 3.01-2.955l2.608.029c.81.009 1.567.336 2.131.925a3.04 3.04 0 0 1 .847 2.182l-.088 3.953 14.903-1.466a3.01 3.01 0 0 1 3.29 2.735l.247 2.604c.158 1.666-1.056 3.154-2.708 3.315l-15.98 1.562-.033 1.176 16.704 7.93c.73.346 1.282.96 1.554 1.727.272.768.23 1.595-.117 2.331l-1.133 2.4a3.025 3.025 0 0 1-2.72 1.731c-.449 0-.883-.1-1.29-.295l-13.215-6.33-.072 2.563 2.501-.483c.192-.036.38-.054.566-.054a3.025 3.025 0 0 1 2.955 2.456l.49 2.535a3.044 3.044 0 0 1-.46 2.285 2.991 2.991 0 0 1-1.927 1.283l-4.33.84-.149 5.954c-.04 1.662-1.362 2.963-3.008 2.963l-2.64-.055z" fill="#FFF"/><path d="M89.99 31.844l2.443-3.551-.076 3.1-2.367.451zM97.796.901c-2.616 0-4.722 2.03-4.795 4.62l-.093 3.317-16.293 1.548c-2.632.249-4.569 2.575-4.317 5.183l.248 2.56c.237 2.453 2.289 4.301 4.773 4.301.15 0 .301-.007.454-.022l4.24-.398-7.467 10.908a4.688 4.688 0 0 0-.739 3.581 4.723 4.723 0 0 0 2.048 3.042l2.13 1.407a4.843 4.843 0 0 0 4.12.572 4.793 4.793 0 0 0 4.51 3.131c.3 0 .605-.028.902-.084l4.513-.856-.04 1.836a4.697 4.697 0 0 0 1.332 3.39 4.784 4.784 0 0 0 3.362 1.463l2.576.055H99.363c2.623 0 4.729-2.035 4.794-4.634l.112-4.424 2.925-.557a4.766 4.766 0 0 0 3.069-2.009 4.683 4.683 0 0 0 .732-3.571l-.162-.82 4.426 2.082a4.826 4.826 0 0 0 6.386-2.249l1.134-2.356a4.68 4.68 0 0 0 .188-3.644 4.737 4.737 0 0 0-2.476-2.702l-12.887-6.007 11.609-1.113c2.63-.253 4.564-2.578 4.313-5.184l-.248-2.558c-.237-2.451-2.289-4.3-4.773-4.3-.155 0-.31.008-.466.022l-12.912 1.246.042-1.89a4.693 4.693 0 0 0-1.348-3.41 4.78 4.78 0 0 0-3.395-1.448L97.847.901H97.796zm0 3.535h.013l2.578.028c.684.006 1.231.566 1.216 1.245l-.102 4.5a1.224 1.224 0 0 0 1.348 1.24l15.535-1.5a1.225 1.225 0 0 1 1.342 1.096l.249 2.559a1.221 1.221 0 0 1-1.106 1.328l-16.479 1.582a1.222 1.222 0 0 0-1.11 1.179l-.055 1.999c-.014.484.264.93.705 1.135l17.043 7.943c.616.287.88 1.017.587 1.626l-1.135 2.356a1.23 1.23 0 0 1-1.636.577l-13.992-6.58a1.225 1.225 0 0 0-1.755 1.066l-.117 4.042a1.223 1.223 0 0 0 1.46 1.231l3.18-.601a1.233 1.233 0 0 1 1.438.962l.49 2.49a1.218 1.218 0 0 1-.973 1.43l-4.773.908a1.224 1.224 0 0 0-.998 1.167l-.158 6.289a1.223 1.223 0 0 1-1.228 1.188h-.027l-2.577-.055a1.222 1.222 0 0 1-1.202-1.243l.101-4.7a1.224 1.224 0 0 0-1.46-1.222l-7.352 1.394a1.227 1.227 0 0 1-1.44-.976l-.462-2.481a1.22 1.22 0 0 1 .976-1.419l8.96-1.706c.568-.11.981-.594.997-1.167l.403-16.25-.642.052.107.053L81.66 37.68a1.232 1.232 0 0 1-1.017.531c-.234 0-.47-.065-.68-.204l-2.13-1.407a1.211 1.211 0 0 1-.336-1.697L87.75 19.925c.56-.818-.045-1.903-1.01-1.903-.04 0-.081.002-.122.006l-9.183.861a1.226 1.226 0 0 1-1.34-1.096l-.246-2.56a1.22 1.22 0 0 1 1.106-1.33l18.349-1.741a1.224 1.224 0 0 0 1.112-1.179l.15-5.363a1.223 1.223 0 0 1 1.229-1.184z" fill="#333"/><path d="M164.39 50.455a3.048 3.048 0 0 1-2.85-1.983l-.88-2.382a3.033 3.033 0 0 1 1.78-3.878l3.167-1.187.15-5.314-11.279 12.704a3.042 3.042 0 0 1-4.252.29l-1.955-1.674a3 3 0 0 1-1.05-2.084c-.04-.577.08-1.14.348-1.636L132.5 50.075a3.046 3.046 0 0 1-4.007-1.498l-1.07-2.323a2.999 2.999 0 0 1-.082-2.327 3.007 3.007 0 0 1 1.599-1.698l5.648-2.528-.926-13.902-2.363.235a3.02 3.02 0 0 1-3.322-2.724l-.248-2.593a3.032 3.032 0 0 1 2.729-3.3l2.588-.252-.612-9.194a3.04 3.04 0 0 1 2.803-3.22l2.602-.192a3.04 3.04 0 0 1 3.255 2.816l.6 8.909 2.49-.243a3.026 3.026 0 0 1 3.313 2.693l.28 2.605a3 3 0 0 1-.66 2.224 3.021 3.021 0 0 1-2.046 1.107l-2.752.285.773 10.91 2.058-.936a3.042 3.042 0 0 1 4.038 1.53l1.045 2.36c.153.344.236.702.255 1.058l13.471-15.294-2.174.017-8.644 10.06a3.047 3.047 0 0 1-4.268.342l-1.994-1.683c-.622-.526-1-1.26-1.064-2.071a2.996 2.996 0 0 1 .722-2.21l3.924-4.564a3.017 3.017 0 0 1-1.852-1.966l-.87-2.868a3.004 3.004 0 0 1 1.222-3.396l6.45-4.286-5.618-.616a3.037 3.037 0 0 1-2.688-3.329l.279-2.604a3.025 3.025 0 0 1 3.34-2.69l16.672 1.767a3.045 3.045 0 0 1 2.63 2.293l.72 2.942a3.032 3.032 0 0 1-1.26 3.233l-4.468 2.986 4.955-.024c.814 0 1.597.323 2.162.887l1.794 1.788c.585.583.91 1.39.89 2.215l-.572 22.98a3.022 3.022 0 0 1-.526 1.629l-1.184 1.733a3.024 3.024 0 0 1-1.498 1.149l-5.638 1.985a3.044 3.044 0 0 1-1.011.173" fill="#FFF"/><path d="M143.904 26.108l1.003-.103a4.754 4.754 0 0 0 1.445-.384l-1.528 1.779c-.309.359-.559.755-.745 1.178l-.175-2.47zM149.963.901a4.735 4.735 0 0 0-4.722 4.236l-.273 2.558c-.275 2.587 1.61 4.924 4.203 5.209l.693.076-2.296 1.526c-.201.134-.39.282-.565.44a4.749 4.749 0 0 0-3.32-.928l-.634.061-.469-6.943c-.166-2.479-2.248-4.42-4.737-4.42-.118 0-.236.005-.355.013l-2.554.19c-2.591.193-4.559 2.452-4.387 5.038l.488 7.332-.837.08c-2.603.253-4.519 2.57-4.27 5.167l.245 2.548a4.726 4.726 0 0 0 5.198 4.262l.504-.05.708 10.624-4.429 1.983a4.709 4.709 0 0 0-2.501 2.656 4.694 4.694 0 0 0 .129 3.64l1.05 2.284a4.763 4.763 0 0 0 6.269 2.344l12.17-5.465c.26.85.755 1.61 1.448 2.204l1.92 1.643a4.758 4.758 0 0 0 6.652-.452l2.946-3.32c.04.16.09.319.148.476l.863 2.341a4.766 4.766 0 0 0 4.458 3.102c.54 0 1.072-.091 1.582-.27l5.539-1.952a4.725 4.725 0 0 0 2.343-1.798l1.163-1.702c.516-.755.8-1.636.823-2.551l.561-22.583a4.749 4.749 0 0 0-1.39-3.468l-1.762-1.757a4.715 4.715 0 0 0-2.536-1.317 4.749 4.749 0 0 0 1.638-4.815l-.709-2.892a4.757 4.757 0 0 0-4.112-3.587L150.466.927a4.874 4.874 0 0 0-.503-.026zm-12.12 5.338c.634 0 1.169.49 1.213 1.133l.628 9.317a1.216 1.216 0 0 0 1.332 1.126l3.01-.291a1.215 1.215 0 0 1 1.328 1.08l.273 2.56a1.214 1.214 0 0 1-1.085 1.336l-3.231.335a1.214 1.214 0 0 0-1.088 1.293l.852 12.038a1.218 1.218 0 0 0 1.72 1.019l2.741-1.248a1.22 1.22 0 0 1 1.619.614l1.027 2.318a1.214 1.214 0 0 1-.614 1.599l-15.918 7.147a1.217 1.217 0 0 1-1.606-.6l-1.051-2.284a1.213 1.213 0 0 1 .608-1.614l5.898-2.641c.464-.208.75-.682.716-1.187l-.974-14.606a1.215 1.215 0 0 0-1.335-1.127l-2.884.285a1.216 1.216 0 0 1-1.332-1.092l-.245-2.55a1.214 1.214 0 0 1 1.094-1.323l3.073-.298a1.215 1.215 0 0 0 1.097-1.288l-.637-9.567a1.216 1.216 0 0 1 1.125-1.291l2.554-.19c.03-.002.062-.003.092-.003zm12.12-1.815c.043 0 .086.003.13.007l16.38 1.736c.51.054.932.423 1.054.92l.708 2.892a1.212 1.212 0 0 1-.505 1.295l-5.903 3.946c-.999.668-.523 2.222.678 2.222h.006l6.69-.032h.005c.324 0 .633.128.861.355l1.763 1.758c.236.235.364.557.356.889l-.56 22.585c-.007.233-.08.46-.213.653l-1.162 1.702a1.225 1.225 0 0 1-.6.46l-5.54 1.952a1.218 1.218 0 0 1-1.548-.726l-.864-2.342c-.23-.625.088-1.32.715-1.554l3.456-1.297c.462-.174.774-.61.787-1.102l.2-7.098c.022-.754-.592-1.25-1.227-1.25-.32 0-.647.125-.9.41l-12.084 13.617a1.22 1.22 0 0 1-1.706.116l-1.919-1.644a1.21 1.21 0 0 1-.121-1.722l18.264-20.744v-.053l-6.28.048a1.217 1.217 0 0 0-.916.425l-8.655 10.077a1.218 1.218 0 0 1-1.71.137l-1.959-1.653a1.213 1.213 0 0 1-.137-1.718l4.475-5.207c.677-.787.116-2.003-.923-2.003-.537 0-1.01-.35-1.166-.863l-.855-2.82a1.214 1.214 0 0 1 .49-1.361l7.592-5.048c.946-.629.588-2.091-.542-2.217l-7.02-.77a1.214 1.214 0 0 1-1.077-1.334l.273-2.558a1.216 1.216 0 0 1 1.209-1.086z" fill="#333"/><path d="M210.974 13.597l5.177-.298-3.098-5.782a3.114 3.114 0 0 1-.248-.616l-1.83 6.696zM198.77 50.455c-.268 0-.535-.036-.794-.108l-2.48-.69c-1.59-.444-2.528-2.114-2.091-3.723l6.25-23.035-4.545.27-.125.002a2.963 2.963 0 0 1-2.194-.97l-1.22 24.948c-.08 1.615-1.392 2.88-2.99 2.88l-.157-.004-2.558-.137c-1.644-.09-2.913-1.516-2.83-3.178l1.285-25.93a2.966 2.966 0 0 1-3.584-.82l-1.642-2.024c-1.04-1.279-.864-3.184.39-4.246l12.917-10.96a2.97 2.97 0 0 1 4.205.362l1.663 1.989c.52.62.767 1.407.698 2.218a3.022 3.022 0 0 1-1.06 2.063l-4.683 3.972-.085 1.74a2.95 2.95 0 0 1 1.549-.541l7.339-.402 2.634-9.72a3.004 3.004 0 0 1 2.885-2.228c.27 0 .54.038.8.111l2.429.684a3.007 3.007 0 0 1 2.08 2.105 3.012 3.012 0 0 1 1.4-1.675l2.261-1.24A2.97 2.97 0 0 1 220.58 3.4l3.208 6.058a3.071 3.071 0 0 1-.39 3.43c1.556.02 2.846 1.258 2.946 2.835l.162 2.54a3.032 3.032 0 0 1-.743 2.2c-.53.608-1.263.97-2.063 1.02l-9.018.552a3.026 3.026 0 0 1 2.052 2.505l1.885 15.178 4.83-2.269a2.942 2.942 0 0 1 1.257-.281c1.155 0 2.217.682 2.709 1.74l1.09 2.344c.701 1.51.06 3.316-1.43 4.03l-9.592 4.58c-.396.19-.837.291-1.277.291a2.973 2.973 0 0 1-1.475-.395l-2.475-1.42a3.049 3.049 0 0 1-1.495-2.274l-2.438-20.483a3.036 3.036 0 0 1 2.204-3.293l-1.926.119-6.945 25.813a3.004 3.004 0 0 1-2.886 2.234z" fill="#FFF"/><path d="M194.975 24.535c.092 0 .186-.003.279-.01l2.03-.117-3.489 12.623.625-12.528c.182.02.367.032.555.032M217.955 0c-.79 0-1.575.197-2.271.572l-2.261 1.22a4.797 4.797 0 0 0-.471.289 4.73 4.73 0 0 0-1.695-.86l-2.43-.673a4.775 4.775 0 0 0-5.875 3.315l-2.299 8.328-3.835.206 2.221-1.85a4.701 4.701 0 0 0 1.69-3.23 4.692 4.692 0 0 0-1.112-3.47l-1.666-1.954a4.787 4.787 0 0 0-6.702-.569L178.32 12.1a4.737 4.737 0 0 0-.622 6.644l1.645 1.99a4.758 4.758 0 0 0 3.08 1.694l-1.181 23.395c-.131 2.604 1.892 4.834 4.51 4.973l2.56.135a4.767 4.767 0 0 0 4.208-2.082 4.742 4.742 0 0 0 2.498 1.66l2.482.677a4.775 4.775 0 0 0 5.865-3.326l4.112-15.007 1.53 12.636a4.761 4.761 0 0 0 2.383 3.557l2.476 1.397a4.798 4.798 0 0 0 4.388.163l9.601-4.502c2.376-1.115 3.399-3.944 2.28-6.308l-1.09-2.304a4.792 4.792 0 0 0-4.315-2.725c-.698.001-1.374.15-2.007.441l-2.632 1.214-1.583-12.524a4.923 4.923 0 0 0-.142-.698l5.463-.328a4.747 4.747 0 0 0 3.288-1.595 4.699 4.699 0 0 0 1.183-3.444l-.163-2.498a4.743 4.743 0 0 0-2.29-3.75c.2-1.03.06-2.134-.475-3.126l-3.211-5.957A4.765 4.765 0 0 0 217.956 0m-4.18 23.275c.608 0 1.134.45 1.212 1.063l1.98 15.665a1.222 1.222 0 0 0 1.727.95l5.52-2.545a1.226 1.226 0 0 1 1.62.584l1.09 2.306c.287.606.027 1.33-.584 1.617l-9.602 4.502a1.224 1.224 0 0 1-1.124-.042l-2.477-1.398a1.214 1.214 0 0 1-.61-.91l-2.44-20.137a1.217 1.217 0 0 1 1.068-1.353l2.474-.293c.05-.007.098-.01.147-.01M207.55 3.903c.108 0 .218.014.327.044l2.43.672c.65.18 1.031.848.851 1.495l-2.092 7.511a1.217 1.217 0 0 0 1.248 1.538l12.994-.735a1.22 1.22 0 0 1 1.29 1.135l.162 2.499c.043.672-.47 1.25-1.147 1.291l-15.51.932a1.22 1.22 0 0 0-1.105.893l-7.056 25.756a1.221 1.221 0 0 1-1.503.853l-2.482-.677a1.215 1.215 0 0 1-.855-1.495l6.46-23.379a1.218 1.218 0 0 0-1.25-1.535l-5.265.305a1.22 1.22 0 0 1-1.292-1.149l-.135-2.54a1.218 1.218 0 0 1 1.154-1.277l7.744-.416c.525-.03.973-.388 1.112-.892l2.742-9.936a1.222 1.222 0 0 1 1.178-.893m-13.238-.16c.347 0 .692.147.933.43l1.665 1.955a1.21 1.21 0 0 1-.148 1.716l-4.872 4.06c-.262.216-.42.532-.437.87l-1.668 33.483a1.22 1.22 0 0 1-1.22 1.155c-.022 0-.044 0-.066-.002l-2.56-.135A1.219 1.219 0 0 1 184.784 46l1.343-26.608c.038-.751-.575-1.278-1.226-1.278-.266 0-.537.086-.774.282l-.32.263a1.224 1.224 0 0 1-1.724-.165l-1.645-1.989a1.211 1.211 0 0 1 .16-1.703l12.93-10.775c.23-.192.508-.284.785-.284m23.644-.216c.435 0 .857.232 1.078.64l3.21 5.957a1.213 1.213 0 0 1-.488 1.64l-2.225 1.215a1.228 1.228 0 0 1-1.663-.487l-3.247-5.952a1.212 1.212 0 0 1 .492-1.648l2.261-1.218c.185-.1.385-.147.582-.147" fill="#333"/><path d="M243.837 12.772l1.62-.147a3.002 3.002 0 0 1 1.03.084l-.079-2.003-2.59.205.019 1.86zm11.66 10.445a3 3 0 0 1 2.171-1.172l6.575-.486.072-3.075-5.065.965a2.994 2.994 0 0 1-2.677-.812l-1.323-1.297.247 5.877zm-11.552 1.564l2.98-.894-.11-2.789c-.182.052-.37.088-.563.105l-2.332.216.025 3.362zm12.986 14.47l6.983.371.153-9.412-5.77.416a3.016 3.016 0 0 1-2.534-1.086l.41 9.765c.193-.038.393-.059.598-.059l.16.004zm-9.47 11.204a3.003 3.003 0 0 1-2.523-1.363l-1.384-2.115a2.984 2.984 0 0 1-.427-2.265 2.986 2.986 0 0 1 1.303-1.903l3.2-2.088-.34-7.936-3.263.957.041 4.837c.001.21-.018.415-.058.614l-.162.809c-.044.219-.111.43-.2.632l-3.145 7.056a3.018 3.018 0 0 1-3.942 1.542l-2.35-1.011a2.988 2.988 0 0 1-1.613-1.662 2.987 2.987 0 0 1 .045-2.311l2.774-6.323-.144-15.968a2.578 2.578 0 0 1-1.672-2.218l-.26-3.528a2.574 2.574 0 0 1 1.855-2.654l-.041-6.142a2.998 2.998 0 0 1 .815-2.078l1.692-1.806a3.01 3.01 0 0 1 1.967-.943l10.019-.778a3.007 3.007 0 0 1 2.249.764l1.899 1.708c.539.486.887 1.158.975 1.876a3.023 3.023 0 0 1 3.243-2.03l2.532.325a2.988 2.988 0 0 1 2.008 1.157c.492.642.702 1.437.591 2.239l-.297 2.153 1.605-.299.099-4.344a2.993 2.993 0 0 1 3.012-2.94l2.61.027a2.992 2.992 0 0 1 2.127.912 2.98 2.98 0 0 1 .852 2.152l-.045 2.552 4.124-.795a3.016 3.016 0 0 1 3.529 2.384l.494 2.553a2.988 2.988 0 0 1-.466 2.264 2.992 2.992 0 0 1-1.935 1.267l-5.923 1.11-.088 4.078 3.333-.246a3.018 3.018 0 0 1 3.228 2.808l.165 2.58a3.022 3.022 0 0 1-2.773 3.192l-4.08.316-.203 10.448 6.488.332a3.027 3.027 0 0 1 2.857 3.103l-.082 2.573a3 3 0 0 1-3.01 2.914l-.146-.004-22.13-1.057a2.994 2.994 0 0 1-2.287-1.229 2.9 2.9 0 0 1-.137.095L249.1 49.97a3.005 3.005 0 0 1-1.64.485z" fill="#FFF"/><path d="M245.434 39.865l.062-.314.028-.156.017.4-.107.07zm12.18-7.444c.113 0 .226-.004.34-.012l3.764-.275-.09 5.62-4.207-.23-.211-5.121c.133.012.268.018.405.018zM249.552 0c-.122 0-.243.004-.366.014l-9.855.779a4.68 4.68 0 0 0-3.08 1.502l-1.665 1.81a4.819 4.819 0 0 0-1.273 3.309l.032 5.043a4.388 4.388 0 0 0-1.812 3.877l.256 3.532a4.374 4.374 0 0 0 1.65 3.114l.128 14.589-2.579 5.977a4.836 4.836 0 0 0-.067 3.685 4.726 4.726 0 0 0 2.523 2.645l2.311 1.01c.592.26 1.22.392 1.864.392 1.862 0 3.553-1.117 4.31-2.846l.093-.21 1.2 1.864a4.686 4.686 0 0 0 3.95 2.171c.912 0 1.8-.267 2.567-.773l3.89-2.568a4.629 4.629 0 0 0 2.339.763l21.768 1.058c.076.004.152.006.226.006 2.561 0 4.632-2.04 4.714-4.642l.081-2.577c.082-2.592-1.925-4.809-4.474-4.94l-4.684-.245.136-7.111 2.426-.191c2.557-.202 4.505-2.484 4.342-5.087l-.162-2.58c-.158-2.517-2.225-4.489-4.707-4.489-.115 0-.231.004-.349.013l-1.353.102.014-.673 4.425-.844a4.681 4.681 0 0 0 3.031-2.016 4.824 4.824 0 0 0 .73-3.607l-.485-2.556c-.428-2.251-2.375-3.885-4.63-3.885-.3 0-.6.03-.895.087l-1.932.379.007-.355a4.807 4.807 0 0 0-1.334-3.427 4.64 4.64 0 0 0-3.333-1.453l-2.535-.029H266.943c-1.967 0-3.678 1.259-4.38 3.023a4.642 4.642 0 0 0-2.298-.971l-2.491-.328a4.636 4.636 0 0 0-3.1.692 4.912 4.912 0 0 0-.1-.093l-1.868-1.709A4.664 4.664 0 0 0 249.551 0zm17.392 4.183h.013l2.536.029a1.219 1.219 0 0 1 1.195 1.25L270.63 8.7a1.22 1.22 0 0 0 1.206 1.251c.077 0 .154-.007.232-.022l4.718-.925c.077-.015.153-.023.23-.023.567 0 1.073.408 1.186.997l.485 2.555a1.229 1.229 0 0 1-.963 1.442l-6.26 1.193c-.563.107-.974.6-.986 1.18l-.11 5.142a1.22 1.22 0 0 0 1.209 1.255l.09-.003 3.876-.291a1.217 1.217 0 0 1 1.295 1.147l.163 2.579a1.223 1.223 0 0 1-1.113 1.304l-4.506.356a1.22 1.22 0 0 0-1.116 1.2l-.218 11.497a1.22 1.22 0 0 0 1.146 1.25l6.91.36a1.221 1.221 0 0 1 1.146 1.267l-.082 2.576a1.217 1.217 0 0 1-1.207 1.19c-.02 0-.038 0-.059-.002l-21.768-1.058a1.222 1.222 0 0 1-1.149-1.293l.135-2.62a1.218 1.218 0 0 1 1.206-1.165l.066.001 7.434.403.065.001c.656 0 1.197-.534 1.207-1.209l.169-10.596a1.219 1.219 0 0 0-1.296-1.246l-6.269.458a1.216 1.216 0 0 1-1.292-1.134l-.189-2.58a1.223 1.223 0 0 1 1.117-1.317l6.961-.523a1.22 1.22 0 0 0 1.12-1.196l.098-4.267a1.22 1.22 0 0 0-1.435-1.235l-5.645 1.094a1.195 1.195 0 0 1-1.074-.33l-2.01-2.008a1.244 1.244 0 0 1-.352-1.04l.97-7.38a1.216 1.216 0 0 1 1.354-1.056l2.491.326c.667.088 1.135.71 1.043 1.387l-.394 2.915c-.102.753.48 1.397 1.193 1.397.075 0 .15-.007.226-.021l2.756-.522c.562-.106.973-.599.986-1.18l.108-4.797a1.219 1.219 0 0 1 1.209-1.2zm-23.879 10.412c.036 0 .073-.002.11-.005l2.182-.198a1.217 1.217 0 0 1 1.312 1.106l.243 2.585a1.223 1.223 0 0 1-1.092 1.341l-2.792.263a1.222 1.222 0 0 0-1.097 1.233l.033 4.614a1.22 1.22 0 0 0 1.207 1.22c.115 0 .233-.017.35-.053l4.032-1.232a1.23 1.23 0 0 0 .86-1.225l-.547-14.195a1.218 1.218 0 0 0-1.303-1.177l-3.62.29a1.223 1.223 0 0 0-1.114 1.237l.029 2.98a1.22 1.22 0 0 0 1.207 1.216zm6.487-11.029c.297 0 .585.112.808.316l1.869 1.71c.24.22.385.53.399.86l1.49 36.113c.01.22-.04.44-.142.632l-.855 1.62a1.213 1.213 0 0 1-.407.45l-4.886 3.226a1.193 1.193 0 0 1-1.67-.36l-1.362-2.117a1.241 1.241 0 0 1 .35-1.7l3.41-2.263c.357-.237.566-.647.547-1.081l-.379-8.966a1.219 1.219 0 0 0-1.205-1.178c-.112 0-.228.017-.343.051l-4.272 1.277c-.518.153-.873.64-.868 1.19l.043 5.257c.001.084-.007.167-.023.25l-.159.81a1.27 1.27 0 0 1-.08.26l-3.093 7.058c-.2.458-.642.73-1.105.73-.16 0-.32-.032-.477-.1l-2.311-1.01a1.238 1.238 0 0 1-.629-1.623l2.775-6.436c.07-.16.104-.33.103-.504l-.15-16.935a.778.778 0 0 0-.874-.772.776.776 0 0 1-.767-.727l-.256-3.532a.78.78 0 0 1 .704-.838l.422-.036a.778.778 0 0 0 .707-.786l-.045-7.023a1.243 1.243 0 0 1 .326-.847l1.666-1.809a1.2 1.2 0 0 1 .79-.385l9.855-.778a1.1 1.1 0 0 1 .094-.004z" fill="#333"/><path d="M314.25 15.98l2.262-1.166h-2.122l-.14 1.165zm1.16 24.873l2.651-.041.005-.102-2.655.143zm-14.59 8.701a3.028 3.028 0 0 1-1.983-.738l-1.801-1.562a2.99 2.99 0 0 1-1.018-1.95L295 35.634l-3.02 1.551c-.428.22-.906.335-1.385.335a3.013 3.013 0 0 1-2.675-1.607l-1.217-2.31a2.963 2.963 0 0 1-.205-2.293 2.98 2.98 0 0 1 1.49-1.763l8.982-4.626-6.928-.12a3.013 3.013 0 0 1-2.965-3.064l.055-2.615c.034-1.62 1.388-2.937 3.018-2.937l15.34.27.202-1.64h-9.832c-1.664 0-3.018-1.347-3.018-3.001V9.25c0-1.654 1.354-3 3.018-3h10.85l.209-1.795a3.012 3.012 0 0 1 3.351-2.633l2.588.3a3 3 0 0 1 2.02 1.122c.5.63.723 1.419.627 2.216l-.096.79h6.458c1.665 0 3.019 1.346 3.019 3v1.246l1.053-.542c.427-.22.908-.338 1.388-.338 1.151 0 2.187.636 2.702 1.659l1.153 2.293a3.008 3.008 0 0 1-.486 3.379c1.399.275 2.45 1.512 2.434 2.975l-.026 2.56c-.018 1.638-1.373 2.97-3.018 2.97l-5.003-.08 1.231 1.197c.617.603.945 1.44.902 2.296l-.14 2.742.361-.022.129-.003a3.011 3.011 0 0 1 3.014 2.844l.137 2.554c.043.8-.23 1.569-.77 2.165-.54.596-1.28.948-2.085.99l-1.166.062-.182 4.508a2.985 2.985 0 0 1-.906 2.023l-1.765 1.715a3.024 3.024 0 0 1-2.07.856l-20.954.254z" fill="#FFF"/><path d="M310.816.901a4.798 4.798 0 0 0-4.774 4.23l-.027.223h-9.26c-2.652 0-4.809 2.146-4.809 4.782V12.7c0 .97.292 1.873.792 2.627l-1.61-.028-.033-.001h-.054c-2.595 0-4.752 2.1-4.807 4.681l-.055 2.618a4.738 4.738 0 0 0 1.342 3.415 4.792 4.792 0 0 0 3.249 1.463l-2.714 1.398a4.756 4.756 0 0 0-2.374 2.808 4.727 4.727 0 0 0 .326 3.655l1.218 2.312a4.798 4.798 0 0 0 4.26 2.563c.763 0 1.527-.184 2.206-.533l.696-.358.745 7.09a4.764 4.764 0 0 0 1.621 3.107l1.803 1.562a4.82 4.82 0 0 0 3.16 1.178H301.774l20.923-.255a4.802 4.802 0 0 0 3.302-1.364l1.766-1.715a4.751 4.751 0 0 0 1.442-3.226l.119-2.916c2.419-.36 4.218-2.505 4.085-4.983l-.136-2.557a4.79 4.79 0 0 0-3.42-4.328l.054-1.053c.03-.6-.053-1.192-.24-1.75l1.246.021h.078c2.623 0 4.78-2.122 4.808-4.73l.028-2.563a4.771 4.771 0 0 0-1.809-3.784 4.737 4.737 0 0 0-.33-3.391l-1.154-2.297a4.787 4.787 0 0 0-4.302-2.642c-.282 0-.566.025-.845.075a4.813 4.813 0 0 0-4.616-3.445h-4.596a4.734 4.734 0 0 0-.993-2.33 4.78 4.78 0 0 0-3.218-1.79l-2.59-.3a4.91 4.91 0 0 0-.56-.033m-6.148 42.827h.02l14.829-.23a1.23 1.23 0 0 0 1.212-1.173l.053-1.231c.03-.7-.534-1.278-1.23-1.278l-.068.001-13.236.715-.068.002a1.23 1.23 0 0 1-1.23-1.161l-.137-2.569a1.229 1.229 0 0 1 1.161-1.289l13.979-.777a1.229 1.229 0 0 0 1.161-1.157l.026-.47a1.23 1.23 0 0 0-1.3-1.291l-16.205.917a1.228 1.228 0 0 0-1.156 1.36l.964 8.542a1.23 1.23 0 0 0 1.225 1.09m6.148-39.272c.048 0 .096.003.145.01l2.59.3a1.226 1.226 0 0 1 1.08 1.364l-.169 1.408a1.228 1.228 0 0 0 1.223 1.372h7.088c.68 0 1.232.548 1.232 1.225V12.7c0 .677-.552 1.225-1.232 1.225h-7.974a1.23 1.23 0 0 0-1.223 1.08l-.513 4.255h1.04c.197 0 .392-.046.567-.137l12.998-6.705a1.235 1.235 0 0 1 1.67.54l1.155 2.296c.299.595.065 1.32-.529 1.632l-.666.348c-1.13.593-.72 2.292.556 2.31l1.185.017a1.23 1.23 0 0 1 1.214 1.24l-.028 2.562a1.228 1.228 0 0 1-1.232 1.212h-.02l-15.079-.242h-.02c-.197 0-.392.047-.567.138l-.45.232c-1.158.595-.71 2.314.554 2.314.028 0 .058 0 .087-.003l7.639-.465.076-.002c.32 0 .63.124.861.35l1.895 1.845c.252.246.386.588.368.938l-.17 3.362a1.229 1.229 0 0 0 1.228 1.288l.077-.002.927-.057a1.23 1.23 0 0 1 1.304 1.158l.137 2.559a1.227 1.227 0 0 1-1.164 1.288l-1.673.09a1.228 1.228 0 0 0-1.166 1.173l-.203 5.015a1.219 1.219 0 0 1-.37.826l-1.764 1.716c-.227.221-.53.346-.847.35l-20.92.255h-.016c-.298 0-.586-.107-.81-.301l-1.802-1.563a1.22 1.22 0 0 1-.415-.796l-1.103-10.486a1.23 1.23 0 0 0-1.791-.961l-3.745 1.925a1.238 1.238 0 0 1-1.658-.52l-1.216-2.312a1.221 1.221 0 0 1 .524-1.656l10.937-5.635c1.135-.585.734-2.29-.546-2.314l-9.127-.159a1.23 1.23 0 0 1-1.21-1.252l.055-2.617a1.23 1.23 0 0 1 1.231-1.2h.023l15.793.28a1.23 1.23 0 0 0 1.244-1.076l.34-2.758a1.228 1.228 0 0 0-1.223-1.375h-10.464c-.68 0-1.232-.548-1.232-1.225v-2.564c0-.677.552-1.225 1.232-1.225h11.349a1.23 1.23 0 0 0 1.224-1.084l.267-2.285a1.23 1.23 0 0 1 1.222-1.085" fill="#333"/></g></svg>
          -->
        </div>
        <!--
        <div class="winner flexible d-flex flex-column justify-content-center align-items-center" style="background: gray !important;">
          <img src="/images/medal.png" class="d-block medal">
          <img src="/images/avatar-full.svg" class="d-block winner-avatar">
          <div class="winner-name d-flex align-items-center">
            <img src="/images/crown.svg" class="rotated-crown">
            <span>渣渣辉</span>
          </div>
        </div>
        -->
        <div class="winner flexible">
          <div class="filler d-flex flex-column justify-content-center align-items-center">
            <img :src="$meteor.winner.dressedMedal" class="title" :style="{ opacity: $meteor.winner.dressedMedal ? '1' :  '0' }">
            <img :src="($meteor.winner.avatar && $meteor.winner.avatar.full) || '/images/default-avatar.png'" class="winner-avatar">
            <div class="winner-name-bar w-100 d-flex justify-content-center">
              <div class="winner-name d-flex align-items-center">
                <!--<img src="/images/crown.svg" class="rotated-crown">-->
                <svg v-if="$meteor.winner.diamond && $meteor.winner.diamond.level > 0" class="rotated-crown" width="40" height="34" viewBox="0 0 40 34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M28.368 13.552L15.122 5.575l.285 15.46-11.747-.52 12.49 12.77c.199.203.51.246.757.104l21.41-12.361a.623.623 0 0 0 .288-.708L33.791 3.12l-5.423 10.433z" fill="#E6AE03" fill-rule="nonzero"/><path fill="#FAC501" d="M2.935 19.408l22.869 8.85-10.392 6zM33.234 1.915l-1.972 12.672-1.799 11.558 10.392-6z"/><path fill="#FFD63C" d="M15.053 5.58l24.802 14.565-24.443 14.113z"/><text font-family="PingFangSC-Medium, PingFang SC" font-size="18" font-weight="400" fill="#FFF" transform="rotate(-30 22.866 13.268)"><tspan x="14.739" y="26.443">5</tspan></text><path d="M1.37 21.767a2.547 2.547 0 1 0 4.412-2.547 2.547 2.547 0 0 0-4.413 2.547zM31.5 4.37a2.548 2.548 0 1 0 4.414-2.547A2.548 2.548 0 0 0 31.5 4.37zM12.692 6.835a2.6 2.6 0 0 0 2.287 1.29 2.726 2.726 0 0 0 2.314-1.337 2.6 2.6 0 0 0 .027-2.625 2.6 2.6 0 0 0-2.287-1.29c-.95.01-1.831.52-2.314 1.336a2.6 2.6 0 0 0-.027 2.626z" fill="#FFD942" fill-rule="nonzero"/></g></svg>
                <span class="no-break">{{ $meteor.winner.name }}</span>
              </div>
            </div>
          </div>
        </div>

        <template v-for="n in 4">
          <div class="ribbon" style="background: url(/images/ribbons.png) -55px -9px; width: 15px; height: 26px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -33px -56px; width: 15px; height: 13px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) 0 -81px; width: 10px; height: 10px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -50px -79px; width: 10px; height: 10px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -236px -27px; width: 24px; height: 6px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -193px -57px; width: 12px; height: 12px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -263px -72px; width: 10px; height: 17px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -207px -111px; width: 23px; height: 6px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -212px -174px; width: 7px; height: 7px"></div>
          <div class="ribbon" style="background: url(/images/ribbons.png) -60px -133px; width: 15px; height: 13px"></div>
        </template>
      </div>

      <div class="flexible no-winner" v-else>
        <div class="prompt-box filler d-flex align-items-center justify-content-center"><img src="/images/no-winner.svg"></div>
      </div>

      <div class="own-result inflexible">
        <styled-rounded-card class="inflexible result-card" bottom-color="rgba(0,0,0,.5)">
          <div class="result-card-body">
            <!--
            <div class="rank d-flex align-items-center">
              <div class="rounded-circle rank-number inflexible d-flex justify-content-center align-items-center"><span>4</span></div>
              <avatar :user="ownAccount" :show-vip="true" class="inflexible" />
              <span class="user-name flexible">{{ ownAccount.name }}</span>
              <span class="score inflexible lead">6分</span>
            </div>
            -->
            <rank :user="ownAccount" :rank="ownRank" unit="分" />
            <div class="exp-gain">
              <p>经验值</p>
              <p class="lead d-flex justify-content-start align-items-center"><span>+{{ ownRank.expGain }}</span><span class="double-exp-badge" v-if="ownRank.doubleExp">双倍</span></p>
            </div>
            <hr>
            <div class="streak" v-if="ownAccount.streaks">
              <p>恭喜你当前连胜次数为：{{ ownRank.wins }}次</p>
              <template v-if="ownRank.remainingWins">
                <p class="lead">再胜<span class="red">{{ ownRank.remainingWins }}场</span>可获得</p>
                <div class="next-awards">
                  <div v-for="award in ownRank.nextAwards" :key="award.name">
                    <img :src="award.icon" class="item-icon">
                    <p class="item-name">{{ award.name }}<wbr><span class="no-break">&times;{{ award.amount }}</span></p>
                  </div>
                  <!--
                  <div>
                    <img src="/images/diamond.svg" class="item-icon">
                    <p class="item-name">钻石<wbr><span class="no-break">&times;100</span></p>
                  </div>
                  <div>
                    <img src="/images/diamond.svg" class="item-icon">
                    <p class="item-name">钻石钻<wbr><span class="no-break">&times;3</span></p>
                  </div>
                  -->
                </div>
              </template>
              <p class="lead" style="line-height: 1.4; margin-bottom: 0" v-else>你的连胜将会继续记录<br>敬请期待，下一阶段连胜的奖励</p>
            </div>
            <div class="streak" v-else-if="ownRank.wins">
              <p>很遗憾，你的{{ ownRank.wins }}场连胜被终结！</p>
              <template v-if="cancelDefeatItem">
                <p class="lead">是否使用<span class="red">败绩抹除卡</span></p>
                <div class="d-flex align-items-center cancel-defeat">
                  <img :src="cancelDefeatItem.icon" class="inflexible">
                  <div class="flexible">
                    <p>败绩抹除卡</p>
                    <p class="small" v-if="cancelDefeatItemAmount">拥有{{ cancelDefeatItemAmount }}个</p>
                    <p class="small" v-else>{{ cancelDefeatItem.price }}钻/次</p>
                  </div>
                  <styled-pill-button :bg-color="cancelingDefeat ? '#a0a0a0' : 'rgb(64,197,255)'" class="inflexible" :disabled="cancelingDefeat" @click.native="cancelDefeat">立即使用</styled-pill-button>
                </div>
              </template>
            </div>
            <div class="streak" v-else>
              <p>你暂未获得连胜</p>
              <p class="lead">再胜<span class="red">{{ ownRank.remainingWins }}场</span>可获得</p>
              <div class="next-awards">
                <div v-for="award in ownRank.nextAwards" :key="award.name">
                  <img :src="award.icon" class="item-icon">
                  <p class="item-name">{{ award.name }}<wbr><span class="no-break">&times;{{ award.amount }}</span></p>
                </div>
                <!--
                <div>
                  <img src="/images/diamond.svg" class="item-icon">
                  <p class="item-name">钻石<wbr><span class="no-break">&times;100</span></p>
                </div>
                <div>
                  <img src="/images/diamond.svg" class="item-icon">
                  <p class="item-name">钻石钻<wbr><span class="no-break">&times;3</span></p>
                </div>
                -->
              </div>
            </div>
          </div>
        </styled-rounded-card>
      </div>
      <div class="button-bar inflexible d-flex">
        <styled-pill-button bottom-color="rgb(166,165,229)" @click.native="leaveAndClose">返回大厅</styled-pill-button>
        <styled-pill-button bg-color="rgb(250,75,127)" @click.native="close">再玩一局</styled-pill-button>
        <styled-pill-button bg-color="rgb(255,207,37)" @click.native="share">分享战绩</styled-pill-button>
        <!--<div class="prompt">今日首次分享可得奖励</div>-->
      </div>
    </template>
    <spinner-box v-else />
  </div>
</template>

<script>
  import find from 'lodash/find';
  import { TweenMax, Sine, Linear } from 'gsap/umd/TweenMax';

  import { UserAccounts } from '../../api/account/collections.js';
  import { Results } from '../../api/game/collections.js';

  import { leaveRoom, ready } from '../../api/game/methods.js';
  import { useItem } from '../../api/item/methods.js';

  import query from '../../modules/client/parsed-query.js';
  import bridge from '../../modules/client/js-bridge.js';

  import { cancelDefeatItem } from '../../domain/client/items.js';

  import StyledRoundedCard from './general/StyledRoundedCard2.vue';
  import Avatar from './user/Avatar.vue';
  import StyledPillButton from './general/StyledPillButton2.vue';
  import Rank from './lobby/Rank.vue';
  import SpinnerBox from './general/SpinnerBox.vue';

  function random(min = 0, max = 1) {
    return min + Math.random() * (max - min);
  }

  function vw(val) {
    return window.innerWidth * (val / 100);
  }

  function vh(val) {
    return window.innerHeight * (val / 100);
  }

  function fallAnimate(e) {
    const fallTime = random(4, 10);
    TweenMax.to(e, fallTime, {
      y: vh(50),
      ease: Linear.easeNone,
      repeat: -1,
      // delay: -10,
    });
    TweenMax.to(e, random(2, 5), {
      x: `+=${vw(5)}`,
      rotationZ: random(0, 180),
      repeat: -1,
      yoyo: true,
      ease: Sine.easeInOut,
    });
    /*
    TweenMax.to(e, random(1, 5), {
      rotationX: random(0, 360),
      rotationY: random(0, 360),
      repeat: -1,
      yoyo: true,
      ease: Sine.easeInOut,
      delay: -3,
    });
    */
  }

  export default {
    name: "result",
    components: { SpinnerBox, Rank, StyledPillButton, Avatar, StyledRoundedCard },
    props: ['ownAccount', 'roomId', 'session'],
    data() {
      return {
        cancelingDefeat: false,
      };
    },
    created() {
      // console.log(this.roomId, this.session);
      this.$subscribe('result', { name: 'game.result', args: [{ roomId: this.roomId, session: this.session }] });
    },
    computed: {
      ownRank() {
        if (this.$meteor.result) {
          const { rankings = [] } = this.$meteor.result;
          return find(rankings, ({ userId }) => userId === this.ownAccount._id);
        }
        return undefined;
      },
      /*
      winner() {
        if (this.$meteor.result) {
          if (this.ownRank && this.ownRank.place === 1) return this.ownAccount;

          const { rankings = [] } = this.$meteor.result;
          const { userId } = find(rankings, ({ place }) => place === 1) || {};
          if (userId) return UserAccounts.findOne(userId);
        }
        return undefined;
      }
      */
      cancelDefeatItem,
      cancelDefeatItemAmount() {
        return this.ownAccount.itemAmount(this.cancelDefeatItem.id);
      },
    },

    mounted() {
      this.$watch('$meteor.result', function (val) {
        if (val) {
          this.$el.querySelectorAll('.ribbon').forEach((e) => {
            TweenMax.set(e, {
              x: random(vw(15), vw(85)),
              y: random(-vh(50), -50),
              // z: random(0, 100),
            });
            fallAnimate(e);
          });
        }
      });
    },
    /*
    watch: {
      '$meteor.result'(val) {
        console.log(val);
      },
    },
    */
    meteor: {
      result() {
        return Results.findOne({ roomId: this.roomId, session: this.session });
        /*
        return {
          roomId: this.roomId,
          session: this.session,
          rankings: [{
            place: 1,
            userId: this.ownAccount._id,
            score: 0,
            expGain: 0,
            doubleExp: false,
            remainingWins: 1,
            wins: 1,
            nextAwards: [{
              name: '屎粑粑',
              amount: 1,
              icon: '/images/diamond.png',
            }],
          }],
        };
        */
      },
      winner() {
        if (this.$meteor.result) {
          if (this.ownRank && this.ownRank.place === 1) return this.ownAccount;

          const { rankings = [] } = this.$meteor.result;
          const { userId } = find(rankings, ({ place }) => place === 1) || {};
          if (userId) return UserAccounts.findOne(userId);
        }
        return undefined;
      },
    },
    methods: {
      async close() {
        // if (this.room) {
        try {
          await ready.callAsync({ roomId: this.roomId, session: this.session + 1 });
        } finally {
          this.$emit('close');
        }
        // }
      },
      async leaveAndClose() {
        // if (this.room) {
        try {
          await leaveRoom.callAsync({ roomId: this.roomId });
        } finally {
          this.$emit('close');
        }
        // }
      },
      share() {
        bridge.gameShare({ roomId: this.roomId, session: this.session });
      },
      async cancelDefeat() {
        if (this.cancelDefeatItemAmount || this.ownAccount.diamondAmount() >= this.cancelDefeatItem.price) {
          this.cancelingDefeat = true;
          try {
            await useItem.callAsync({ id: this.cancelDefeatItem.id, osType: query.osType });
          } catch (e) {
            // TODO: 显示异常信息
          } finally {
            this.cancelingDefeat = false;
          }
        } else {
          bridge.gameFastRecharge({ showMessage: true });
        }
      },
    },
  };
</script>

<style lang="scss" scoped>

  .result {
    background-image: linear-gradient(rgb(81,77,207), rgb(171,90,252));
    perspective: 1000px;
    overflow: hidden;

    .winner-section {
      position: relative;
      overflow: hidden;
      padding-bottom: .5rem;

      > .filler {
        padding-bottom: .5rem;
      }

      .beam {
        position: absolute;
        height: 100%;
        width: auto;
        bottom: -10%;

        transform-origin: center 120%;

        &.beam-left {
          left: 5%;
          animation: swing ease-in-out 3s infinite alternate;
        }

        &.beam-center {
          align-self: center;
        }

        &.beam-right {
          right: 5%;
          animation: swing ease-in-out 3s infinite alternate-reverse;
        }
      }

      .winner-title {
        /*height: 18%;*/
        padding: .8rem 0 .2rem;
        position: relative;
        > * {
          width: 50%;
        }
      }

      .winner {
        /*height: 82%;*/
        position: relative;

        .title {
          position: relative;
          bottom: -3%;
          height: 12%;
        }
        .winner-avatar {
          height: 76%;
        }
        .winner-name-bar {
          height: 12%;
          position: relative;
          top: -2%;
        }
        .winner-name {
          font-size: 1rem;
          line-height: 1;
          color: #fff;
          border-radius: 50rem;
          background-color: rgba(0,0,0,.5);
          padding: 0 1.1rem 0 .8rem;

          .rotated-crown {
            height: 1.2rem;
            width: auto;
            margin-right: .5rem;
            transform: rotate(30deg);
          }
        }
      }

      .ribbon {
        background-size: 277px 181px !important;
        position: absolute;
        opacity: 1;
      }
    }

    .no-winner {
      position: relative;
      background-image: url(/images/no-winner-bg.png);
      background-repeat: repeat;
      padding: 4rem .8rem 0;
      background-clip: content-box;
      background-position: .8rem 4rem;
      // background-size: 2rem;
      background-size: 2.5rem;

      img {
        width: 75%;
      }
    }

    .own-result {
      padding: 0 .8rem;
      position: relative;
      z-index: 1;

      .result-card .result-card-body {
        color: #0b0b0b;
        padding: 1.1rem 1.2rem;

/*
        .rank {
          font-weight: 500;
          margin-bottom: 1rem;

          .rank-number {
            height: 1.5rem;
            width: 1.5rem;
            font-size: .875rem;
            line-height: 1;
            background-color: rgb(216,216,216);
            font-weight: bolder;
            margin-right: .65rem;
          }
          .avatar {
            width: 2.5rem;
          }

          .user-name {
            padding: 0 .5rem;
          }

          .score {
            font-weight: bold;
          }
        }
*/
        .rank {
          margin-bottom: 1rem;
        }

        .exp-gain, .streak {
          p {
            font-size: .875rem;
            font-weight: 600;
            margin: 0 0 .3rem;

            &.lead {
              font-size: 1.125rem;
              /*font-weight: bold;*/
              margin: 0;
            }
          }
        }

        .exp-gain {
          p.lead {
            margin-top: .5rem;
            .double-exp-badge {
              margin-left: .4rem;
              background-color: rgb(255,207,37);
              font-size: .75rem;
              color: rgb(11,11,11);
              height: 1.125rem;
              line-height: 1.125rem;
              padding: 0 .4rem;
              border-radius: .3rem;
            }
          }
        }

        hr {
          margin: 1rem 0;

        }

        .streak {
          min-height: 7.5rem;
          p.lead {
            margin-bottom: 1.2rem;
          }
          .next-awards {
            display: flex;
            align-items: stretch;
            justify-content: flex-start;
            margin-left: -.5rem;

            > div {
              flex: 0 0 auto;
              padding-left: .5rem;
              width: 20%;

              .item-icon {
                width: 70%;
                margin-left: auto;
                margin-right: auto;
                margin-bottom: .5rem;
                display: block;
              }
              .item-name {
                font-weight: normal;
                font-size: .75rem;
                text-align: center;
                line-height: 1.4;
                margin-bottom: .3rem;
              }
            }
          }
          .cancel-defeat {
            height: 3.8rem;

            img {
              height: 3.6rem;
              width: auto;
            }

            > div {
              padding: 0 .5rem;

              p.small {
                margin-bottom: 0;
                color: rgb(91,78,212);
                font-size: .75rem;
              }
            }

            > button {
              /deep/ .button-content {
                padding: .3rem 1.2rem;
              }
            }
          }
        }
      }
    }

    .button-bar {
      padding: .8rem .8rem 1rem;
      position: relative;
      > button {
        flex: 1 1 0;
        height: 2.8rem;
        font-size: 1.125rem;
        line-height: 1.2;
        & + button {
          margin-left: .5rem;
        }
      }

      .prompt {
        background-color: rgb(132,115,225);
        color: #fff;
        font-size: .75rem;
        line-height: 1;
        padding: .375rem .75rem;
        border-radius: .2rem;
        position: absolute;
        right: .8rem;
        top: -.5rem;
      }
    }

    .red {
      color: rgb(250,75,127);
    }
  }
</style>
